[{"C:\\Users\\Luca\\Desktop\\Front_end_dev\\Progetti\\live_chat\\src\\index.js":"1","C:\\Users\\Luca\\Desktop\\Front_end_dev\\Progetti\\live_chat\\src\\reportWebVitals.js":"2","C:\\Users\\Luca\\Desktop\\Front_end_dev\\Progetti\\live_chat\\src\\App.js":"3","C:\\Users\\Luca\\Desktop\\Front_end_dev\\Progetti\\live_chat\\src\\client\\Client.js":"4","C:\\Users\\Luca\\Desktop\\Front_end_dev\\Progetti\\live_chat\\src\\components\\Login.js":"5","C:\\Users\\Luca\\Desktop\\Front_end_dev\\Progetti\\live_chat\\src\\context\\AuthProvider.js":"6","C:\\Users\\Luca\\Desktop\\Front_end_dev\\Progetti\\live_chat\\src\\components\\Messaggi.js":"7","C:\\Users\\Luca\\Desktop\\Front_end_dev\\Progetti\\live_chat\\src\\client\\client.js":"8","C:\\Users\\Luca\\Desktop\\Front_end_dev\\Progetti\\live_chat\\src\\components\\UtentiOnline.js":"9","C:\\Users\\Luca\\Desktop\\Front_end_dev\\Progetti\\live_chat\\src\\context\\SocketProvider.js":"10","C:\\Users\\Luca\\Desktop\\Front_end_dev\\Progetti\\live_chat\\src\\components\\Conversazioni.js":"11","C:\\Users\\Luca\\Desktop\\Front_end_dev\\Progetti\\live_chat\\src\\hooks\\useLocalStorage.js":"12"},{"size":546,"mtime":1608577301088,"results":"13","hashOfConfig":"14"},{"size":362,"mtime":499162500000,"results":"15","hashOfConfig":"14"},{"size":901,"mtime":1609517268603,"results":"16","hashOfConfig":"14"},{"size":1716,"mtime":1609607085002,"results":"17","hashOfConfig":"14"},{"size":1867,"mtime":1609517201048,"results":"18","hashOfConfig":"14"},{"size":2714,"mtime":1609426767225,"results":"19","hashOfConfig":"14"},{"size":3553,"mtime":1609609195964,"results":"20","hashOfConfig":"14"},{"size":2323,"mtime":1608640157681,"results":"21","hashOfConfig":"14"},{"size":2637,"mtime":1609609736627,"results":"22","hashOfConfig":"14"},{"size":1485,"mtime":1609364129481,"results":"23","hashOfConfig":"14"},{"size":2658,"mtime":1609609687271,"results":"24","hashOfConfig":"14"},{"size":919,"mtime":1609609358490,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"1wz1hpj",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"28"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"28"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"28"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"44","messages":"45","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"46","messages":"47","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"48","messages":"49","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"28"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"53","messages":"54","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\Luca\\Desktop\\Front_end_dev\\Progetti\\live_chat\\src\\index.js",[],["55","56"],"C:\\Users\\Luca\\Desktop\\Front_end_dev\\Progetti\\live_chat\\src\\reportWebVitals.js",[],"C:\\Users\\Luca\\Desktop\\Front_end_dev\\Progetti\\live_chat\\src\\App.js",["57","58"],"import './App.css';\nimport Client from './client/Client';\n\nimport AuthProvider from './context/AuthProvider'\nimport SocketProvider from './context/SocketProvider'\nimport { Container, Button } from 'react-bootstrap'\n\nimport { useState, useEffect } from 'react';\nimport socketIOClient from \"socket.io-client\";\n\nconst ENDPOINT = \"http://127.0.0.1:4001\";\n\nlet socket = socketIOClient(ENDPOINT, {\n  // autoConnect: false,\n  // reconnection: false,\n  // reconnecting: false,\n})\n\nfunction App() {\n  const [riconnetti, setRiconnetti] = useState(false)\n\n  useEffect(() => {\n    if (riconnetti) {\n      socket.connect()\n      setRiconnetti(false)\n    }\n  }, [riconnetti])\n\n  return (\n\n    <div className=\"App\">\n      <SocketProvider socket={socket}>\n        <AuthProvider>\n            <Client setRiconnetti={setRiconnetti}/>\n        </AuthProvider>\n      </SocketProvider>\n    </div>\n  );\n}\n\nexport default App;","C:\\Users\\Luca\\Desktop\\Front_end_dev\\Progetti\\live_chat\\src\\client\\Client.js",["59"],"C:\\Users\\Luca\\Desktop\\Front_end_dev\\Progetti\\live_chat\\src\\components\\Login.js",["60"],"import React, { useEffect, useRef } from 'react'\r\nimport { Form, Button } from 'react-bootstrap'\r\nimport { useAuth } from \"../context/AuthProvider\";\r\nimport { useSocket } from \"../context/SocketProvider\";\r\n\r\nexport default function Login({ setRiconnetti }) {\r\n    const { user, signin, signout } = useAuth()\r\n    const { socketInfo } = useSocket()\r\n    const { socketStatus, socketId } = socketInfo\r\n    const idRef = useRef()\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        signin(idRef.current.value)\r\n        idRef.current.value = \"\"\r\n    }\r\n\r\n    return (\r\n        <div className=\"Login d-flex justify-content-end align-items-center p-2\">\r\n\r\n            {socketStatus === \"Connesso\" && <h5 className=\"mr-5\" style={{ color: \"darkgreen\" }}>{socketId}</h5>}\r\n\r\n            {socketStatus === \"Non connesso\" &&\r\n\r\n                <Button variant=\"warning\" className=\"mr-5\" onClick={() => {\r\n                    setRiconnetti(true)\r\n                    // idRef.current.value && signin(idRef.current.value)\r\n                }}>\r\n                    Connetti al server</Button>}\r\n\r\n            {!user.name ?\r\n                <Form onSubmit={(e) => handleSubmit(e)} className=\"d-flex align-items-center\">\r\n                    <Form.Control type=\"text\" required ref={idRef} placeholder=\"Inserisci ID\" />\r\n                    <Button type=\"submit\" variant=\"primary\" className=\"ml-2\">Login</Button>\r\n                    <Button type=\"submit\" variant=\"secondary\" className=\"ml-2\">Nuovo</Button>\r\n                </Form>\r\n                :\r\n                <>\r\n                    <h4 className=\"mr-4\">\r\n                        {user.name && user.name}\r\n                    </h4>\r\n                    <Button type=\"submit\" variant=\"primary\" onClick={() => { signout() }}>Logout</Button>\r\n                </>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","C:\\Users\\Luca\\Desktop\\Front_end_dev\\Progetti\\live_chat\\src\\context\\AuthProvider.js",["61","62","63","64"],"import React, { createContext, useState, useContext, useEffect, useReducer, useCallback } from 'react'\r\nimport { useCookies } from 'react-cookie'\r\nimport { useSocket } from \"../context/SocketProvider\";\r\n\r\nexport const authContext = createContext()\r\n\r\n//shorthands per utilizzare il contesto\r\nexport function useAuth() {\r\n    return useContext(authContext)\r\n}\r\n\r\n\r\n\r\nexport default function AuthProvider({ children }) {\r\n    const { socket, socketInfo } = useSocket()\r\n    const { socketStatus, socketId } = socketInfo\r\n\r\n    const [cookies, setCookie, removeCookie] = useCookies();\r\n\r\n    const initialUser = {\r\n        name: '',\r\n        socketId: ''\r\n    }\r\n    const [emit, setEmit] = useState({ type: \"welcome\", user: initialUser })\r\n\r\n    const reducer = (user, action) => {\r\n        let newUser\r\n        switch (action.type) {\r\n            case 'signin':\r\n                newUser = {\r\n                    ...user,\r\n                    name: action.payload,\r\n                //    id: Math.floor(Math.random() * (100)),\r\n                    socketId\r\n                }\r\n                setEmit({ type: action.type, user: newUser })       //socket.emit(action.type, newUser, (res) => console.log(res))\r\n                return newUser\r\n            case 'signout':\r\n                setEmit({ type: action.type, user: user })       // socket.emit(action.type, user, (res) => console.log(res))\r\n                newUser = {\r\n                    ...user,\r\n                    name: '',\r\n                    socketId: ''\r\n                }\r\n                return newUser\r\n            default:\r\n                throw new Error();\r\n        }\r\n    }\r\n\r\n    const [user, dispatch] = useReducer(reducer, initialUser);\r\n\r\n    const signin = (usernameValue) => {\r\n        const current = new Date()\r\n        current.setHours(current.getHours(), current.getMinutes() + 50, current.getSeconds()); //dopo un'ora\r\n        setCookie('user', usernameValue, { path: '/', expires: current });\r\n        dispatch({ type: 'signin', payload: usernameValue })\r\n    }\r\n\r\n    const signout = () => {\r\n        removeCookie('user')\r\n        dispatch({ type: 'signout' })\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (cookies.user || user.name) {\r\n            dispatch({ type: 'signin', payload: cookies.user })\r\n        }\r\n    }, [socketId])\r\n\r\n    //invio messaggio al server al variare di emit (altrimenti fa invio doppio)\r\n    useEffect(() => {\r\n        socket.emit(emit.type, emit.user, (res) => console.log(res))\r\n    }, [emit])\r\n\r\n\r\n    const auth = {\r\n        user,\r\n        signin,\r\n        signout\r\n    }\r\n    return (\r\n        <authContext.Provider value={auth}>\r\n            {children}\r\n        </authContext.Provider>\r\n    )\r\n}\r\n","C:\\Users\\Luca\\Desktop\\Front_end_dev\\Progetti\\live_chat\\src\\components\\Messaggi.js",["65","66","67","68","69","70","71","72","73"],"C:\\Users\\Luca\\Desktop\\Front_end_dev\\Progetti\\live_chat\\src\\client\\client.js",["74","75"],"C:\\Users\\Luca\\Desktop\\Front_end_dev\\Progetti\\live_chat\\src\\components\\UtentiOnline.js",["76","77","78"],"C:\\Users\\Luca\\Desktop\\Front_end_dev\\Progetti\\live_chat\\src\\context\\SocketProvider.js",["79","80","81","82"],"import React, {\r\n    createContext, useState, useContext, useEffect,\r\n    useReducer, useCallback, useMemo\r\n} from 'react'\r\n\r\n\r\n\r\nexport const socketContext = createContext()\r\n\r\n//shorthands per utilizzare il contesto\r\nexport function useSocket() {\r\n    return useContext(socketContext)\r\n}\r\n\r\nexport default function SocketProvider({ socket, children }) {\r\n\r\n    const [socketStatus, setSocketStatus] = useState('Non connesso')\r\n    const [socketId, setSocketId] = useState('')\r\n\r\n    useEffect(() => {\r\n\r\n        socket.on('connect', function () {\r\n            console.log(\"connesso al server\")\r\n            setSocketStatus('Connesso')\r\n            setSocketId(socket.id)\r\n        });\r\n\r\n        socket.on('disconnect', (reason) => {\r\n            socket.disconnect()\r\n            setSocketStatus('Non connesso')\r\n            console.log(reason)\r\n            if (reason === 'io server disconnect') {\r\n                // the disconnection was initiated by the server, you need to reconnect manually\r\n            }\r\n            if (reason === 'transport close') {\r\n\r\n            }\r\n            // else the socket will automatically try to reconnect\r\n        });\r\n\r\n       \r\n    }, [])\r\n\r\n\r\n \r\n\r\n\r\n    const socketInfo = {\r\n        socketStatus,\r\n        socketId\r\n    }\r\n\r\n\r\n    const socketValue = {\r\n        socket,\r\n        socketInfo\r\n    }\r\n\r\n\r\n    return (\r\n        <socketContext.Provider value={socketValue}>\r\n            {children}\r\n        </socketContext.Provider>\r\n    )\r\n}\r\n","C:\\Users\\Luca\\Desktop\\Front_end_dev\\Progetti\\live_chat\\src\\components\\Conversazioni.js",["83","84"],"C:\\Users\\Luca\\Desktop\\Front_end_dev\\Progetti\\live_chat\\src\\hooks\\useLocalStorage.js",["85","86","87"],{"ruleId":"88","replacedBy":"89"},{"ruleId":"90","replacedBy":"91"},{"ruleId":"92","severity":1,"message":"93","line":6,"column":10,"nodeType":"94","messageId":"95","endLine":6,"endColumn":19},{"ruleId":"92","severity":1,"message":"96","line":6,"column":21,"nodeType":"94","messageId":"95","endLine":6,"endColumn":27},{"ruleId":"92","severity":1,"message":"97","line":1,"column":17,"nodeType":"94","messageId":"95","endLine":1,"endColumn":23},{"ruleId":"92","severity":1,"message":"98","line":1,"column":17,"nodeType":"94","messageId":"95","endLine":1,"endColumn":26},{"ruleId":"92","severity":1,"message":"99","line":1,"column":77,"nodeType":"94","messageId":"95","endLine":1,"endColumn":88},{"ruleId":"92","severity":1,"message":"100","line":16,"column":13,"nodeType":"94","messageId":"95","endLine":16,"endColumn":25},{"ruleId":"101","severity":1,"message":"102","line":69,"column":8,"nodeType":"103","endLine":69,"endColumn":18,"suggestions":"104"},{"ruleId":"101","severity":1,"message":"105","line":74,"column":8,"nodeType":"103","endLine":74,"endColumn":14,"suggestions":"106"},{"ruleId":"92","severity":1,"message":"107","line":1,"column":46,"nodeType":"94","messageId":"95","endLine":1,"endColumn":54},{"ruleId":"92","severity":1,"message":"93","line":2,"column":10,"nodeType":"94","messageId":"95","endLine":2,"endColumn":19},{"ruleId":"92","severity":1,"message":"108","line":2,"column":21,"nodeType":"94","messageId":"95","endLine":2,"endColumn":24},{"ruleId":"92","severity":1,"message":"109","line":2,"column":26,"nodeType":"94","messageId":"95","endLine":2,"endColumn":29},{"ruleId":"92","severity":1,"message":"110","line":2,"column":50,"nodeType":"94","messageId":"95","endLine":2,"endColumn":53},{"ruleId":"92","severity":1,"message":"111","line":11,"column":7,"nodeType":"94","messageId":"95","endLine":11,"endColumn":11},{"ruleId":"92","severity":1,"message":"112","line":12,"column":7,"nodeType":"94","messageId":"95","endLine":12,"endColumn":12},{"ruleId":"101","severity":1,"message":"113","line":37,"column":8,"nodeType":"103","endLine":37,"endColumn":10,"suggestions":"114"},{"ruleId":"101","severity":1,"message":"115","line":42,"column":8,"nodeType":"103","endLine":42,"endColumn":18,"suggestions":"116"},{"ruleId":"92","severity":1,"message":"108","line":2,"column":21,"nodeType":"94","messageId":"95","endLine":2,"endColumn":24},{"ruleId":"92","severity":1,"message":"117","line":9,"column":11,"nodeType":"94","messageId":"95","endLine":9,"endColumn":19},{"ruleId":"92","severity":1,"message":"109","line":2,"column":10,"nodeType":"94","messageId":"95","endLine":2,"endColumn":13},{"ruleId":"92","severity":1,"message":"110","line":2,"column":27,"nodeType":"94","messageId":"95","endLine":2,"endColumn":30},{"ruleId":"101","severity":1,"message":"118","line":17,"column":8,"nodeType":"103","endLine":17,"endColumn":10,"suggestions":"119"},{"ruleId":"92","severity":1,"message":"120","line":3,"column":5,"nodeType":"94","messageId":"95","endLine":3,"endColumn":15},{"ruleId":"92","severity":1,"message":"99","line":3,"column":17,"nodeType":"94","messageId":"95","endLine":3,"endColumn":28},{"ruleId":"92","severity":1,"message":"121","line":3,"column":30,"nodeType":"94","messageId":"95","endLine":3,"endColumn":37},{"ruleId":"101","severity":1,"message":"105","line":42,"column":8,"nodeType":"103","endLine":42,"endColumn":10,"suggestions":"122"},{"ruleId":"92","severity":1,"message":"93","line":2,"column":10,"nodeType":"94","messageId":"95","endLine":2,"endColumn":19},{"ruleId":"101","severity":1,"message":"123","line":75,"column":8,"nodeType":"103","endLine":75,"endColumn":22,"suggestions":"124"},{"ruleId":"92","severity":1,"message":"125","line":1,"column":8,"nodeType":"94","messageId":"95","endLine":1,"endColumn":13},{"ruleId":"92","severity":1,"message":"107","line":1,"column":17,"nodeType":"94","messageId":"95","endLine":1,"endColumn":25},{"ruleId":"92","severity":1,"message":"98","line":1,"column":27,"nodeType":"94","messageId":"95","endLine":1,"endColumn":36},"no-native-reassign",["126"],"no-negated-in-lhs",["127"],"no-unused-vars","'Container' is defined but never used.","Identifier","unusedVar","'Button' is defined but never used.","'useRef' is defined but never used.","'useEffect' is defined but never used.","'useCallback' is defined but never used.","'socketStatus' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'cookies.user' and 'user.name'. Either include them or remove the dependency array.","ArrayExpression",["128"],"React Hook useEffect has a missing dependency: 'socket'. Either include it or remove the dependency array.",["129"],"'useState' is defined but never used.","'Tab' is defined but never used.","'Nav' is defined but never used.","'Col' is defined but never used.","'MINE' is assigned a value but never used.","'YOURS' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'setMessaggi' and 'socket'. Either include them or remove the dependency array. If 'setMessaggi' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["130"],"React Hook useEffect has a missing dependency: 'lastMessage'. Either include it or remove the dependency array.",["131"],"'panelRef' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'onlineUsers.length', 'setTotUsers', 'socket', and 'user.name'. Either include them or remove the dependency array. If 'setTotUsers' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["132"],"'useReducer' is defined but never used.","'useMemo' is defined but never used.",["133"],"React Hook useEffect has missing dependencies: 'recipient' and 'saveValue'. Either include them or remove the dependency array.",["134"],"'React' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"135","fix":"136"},{"desc":"137","fix":"138"},{"desc":"139","fix":"140"},{"desc":"141","fix":"142"},{"desc":"143","fix":"144"},{"desc":"145","fix":"146"},{"desc":"147","fix":"148"},"Update the dependencies array to be: [cookies.user, socketId, user.name]",{"range":"149","text":"150"},"Update the dependencies array to be: [emit, socket]",{"range":"151","text":"152"},"Update the dependencies array to be: [setMessaggi, socket]",{"range":"153","text":"154"},"Update the dependencies array to be: [lastMessage, messaggi]",{"range":"155","text":"156"},"Update the dependencies array to be: [onlineUsers.length, setTotUsers, socket, user.name]",{"range":"157","text":"158"},"Update the dependencies array to be: [socket]",{"range":"159","text":"160"},"Update the dependencies array to be: [conversation, recipient, saveValue]",{"range":"161","text":"162"},[2303,2313],"[cookies.user, socketId, user.name]",[2499,2505],"[emit, socket]",[1038,1040],"[setMessaggi, socket]",[1145,1155],"[lastMessage, messaggi]",[683,685],"[onlineUsers.length, setTotUsers, socket, user.name]",[1179,1181],"[socket]",[1892,1906],"[conversation, recipient, saveValue]"]